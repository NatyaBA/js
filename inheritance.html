<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
    <p id="timer"></p>
    <form action="">
        <input type="button" id="start" value="Start">
        <input type="button" id="stop" value="Stop">
    </form>     
    <p id="new_timer"></p>
    <form action="">
        <input type="button" id="new_stop" value="Stop">
    </form>

<script>   
    let getId = x => document.getElementById(x);
    let total=Number(prompt('Установить таймер в секундах'));
    let new_total=total;
    
  
    
    function extra(x) {
        if(x < 10){
            x = "0" + x;
            return x;
        } 
        else 
            return x;
    }

    let hours = extra(Math.floor(total / 3600));
    let minutes = extra(Math.floor(total % 3600 / 60));
    let seconds = extra(Math.floor(total % 3600 % 60));
    
    class Timer {
        start(total, callback) {
        
            timer = setInterval( function() {
                total--;
                callback(total);
                if (total == 0) {
                    clearInterval(timer);
                }
            }, 1000);
        
            if (total == 0) { 
                clearInterval(timer);
                return;
            }
            total--;

        }
        
        stop(total) {
            clearInterval(timer);

            timer = setInterval(start,1000);
            if (total == 0){ 
                clearInterval(timer);
                
            }
        }
    }
   



    class new_Timer extends Timer {
        start(total) {     
            clearInterval(timer);

            new_Timer = setInterval(start,1000);
            if(total == 0){ 
                clearInterval(new_timer);
                
            };
        }
    }
    getId('new_timer').innerHTML = hours + ':' + minutes + ':' +seconds;
    getId('stop').addEventListener('click', start);
    

    getId('timer').innerHTML = hours + ':' + minutes + ':' + seconds;
    
    let timer = new Timer();
    getId('start').addEventListener('click', () => {
        console.log(timer);
        timer.start( (value) => {
            console.log(value);
        });
    });

    getId('stop').addEventListener('click', stop);

    
  
</script>
</body>
</html>
